<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:p="http://primefaces.org/ui">
	<h:head>
		<title>Hist√≥rico de ventas | SEA</title>
		<ui:composition template="/templates/resources.xhtml" />
		<h:outputStylesheet library="css" name="reportes.css" />
	</h:head>
	<h:body>
        <div class="mdl-layout mdl-js-layout">
			<ui:composition template="/templates/header.xhtml" />
			<main class="mdl-layout__content" id="historco">
				<div class="page-content">
					<h:form>
						<h:panelGroup layout="block" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
							<p:calendar id="calendar1" styleClass="ui-calendar mdl-textfield__input dateTimeField" value="#{historicoVentasController.fecha1}" locale="es" pattern="yyyy-mm-dd">
							</p:calendar>
							<h:outputLabel class="mdl-textfield__label" for="fechaInicial">Fecha inicial</h:outputLabel>
						</h:panelGroup>
						<h:panelGroup layout="block" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
							<p:calendar id="calendar2" styleClass="ui-calendar mdl-textfield__input dateTimeField" value="#{historicoVentasController.fecha2}" locale="es" pattern="yyyy-mm-dd">
							</p:calendar>
							<h:outputLabel class="mdl-textfield__label" for="fechaFinal">Fecha final</h:outputLabel>
						</h:panelGroup>
						<h:panelGroup layout="block" class="mdl-selectfield mdl-js-selectfield mdl-selectfield--floating-label">
							<p:selectOneMenu value="#{historicoVentasController.usuario.idUsuario}" >
								<f:selectItems value="#{historicoVentasController.listaUsuario}" var="usu" itemLabel="#{usu.nombreUsuario}" itemValue="#{usu.idUsuario}" />
							</p:selectOneMenu>
							<h:outputLabel class="mdl-selectfield__label" for="asesor">Asesor</h:outputLabel>
						</h:panelGroup>
						<h:panelGroup layout="block" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
							<p:selectOneMenu value="#{historicoVentasController.cliente.nombreORazonSocial}" >
								<f:selectItems value="#{cotizacionController.clientes}" var="cli" itemLabel="#{cli[1]}" itemValue="#{cli[1]}" />
							</p:selectOneMenu>
								<h:outputLabel class="mdl-textfield__label" for="cliente">Cliente</h:outputLabel>
						</h:panelGroup>
						<h:panelGroup layout="block" class="buttons fullWidth">
							<p:commandButton styleClass="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" type="submit" value="filtrar" actionListener="#{historicoVentasController.filtrar()}" update=":tablaVentas"/>
						</h:panelGroup>
					</h:form>
					<h:dataTable value="#{historicoVentasController.listaVentas}" var="lisVen" cellpadding="1" class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" style="width: 98%;" id="tablaVentas">
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="cliente"/>
								</f:facet>
								<h:outputText value="#{lisVen.cliente}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="documento"/>
								</f:facet>
								<h:outputText value="#{lisVen.documento}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="usuario"/>
								</f:facet>
								<h:outputText value="#{lisVen.idUsuario}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="fecha envio"/>
								</f:facet>
								<h:outputText value="#{lisVen.fechaEnvioOc}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Numero de orden de produccion"/>
								</f:facet>
								<h:outputText value="#{lisVen.numeroOp}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="fecha entrega final"/>
								</f:facet>
								<h:outputText value="#{lisVen.fechaEntregaFinal}"/>
							</h:column>
						</h:dataTable>
				</div>
			</main>
		</div>
	</h:body>
</html>