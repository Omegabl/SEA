<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:p="http://primefaces.org/ui"
	  xmlns:f="http://xmlns.jcp.org/jsf/core">
	<h:head>
		<title>Seguimiento de gestión comercial | SEA</title>
		<ui:composition template="/templates/resources.xhtml" />
		<h:outputStylesheet library="css" name="reportes.css" />
	</h:head>
	<h:body>
        <div class="mdl-layout mdl-js-layout">
			<ui:composition template="/templates/header.xhtml" />
			<main class="mdl-layout__content" id="seguimientoComercial">
				<div class="page-content">
					<h:form>
						<h3 class="mdl-typography--headline fullWidth">Periodo a consultar</h3>
						<h:panelGroup layout="block" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
							<p:calendar id="calendar1" styleClass="ui-calendar mdl-textfield__input dateTimeField" value="#{seguimientoComercialController.fecha1}" locale="es" pattern="yyyy-mm-dd">
							</p:calendar>
							<h:outputLabel class="mdl-textfield__label" for="fechaInicial">Fecha inicial</h:outputLabel>
						</h:panelGroup>
						<h:panelGroup layout="block" class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
							<p:calendar id="calendar2" styleClass="ui-calendar mdl-textfield__input dateTimeField" value="#{seguimientoComercialController.fecha2}" locale="es" pattern="yyyy-mm-dd">
							</p:calendar>
							<h:outputLabel class="mdl-textfield__label" for="fechaFinal">Fecha final</h:outputLabel>
						</h:panelGroup>
						<p:commandButton type="submit" styleClass="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" value="Filtrar" actionListener="#{seguimientoComercialController.filtrar()}" update=":grafico, :tablaRep"/>
					</h:form>
					<h:panelGroup id="grafico">
						<p:chart type="bar" model="#{seguimientoComercialController.combinedModel}" style="height:300px; margin: 20px" />
					</h:panelGroup>
					<h:panelGroup layout="block" class="fullWidth" id="tablaRep">
						<h:dataTable value="#{seguimientoComercialController.listaSeguimiento}" var="rse" cellpadding="1" class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Fecha de Emision"/>
								</f:facet>
								<h:outputText value="#{rse.fechaEmision}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Numero de Cotizacion"/>
								</f:facet>
								<h:outputText value="#{rse.numeroCotizacion}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Origen"/>
								</f:facet>
								<h:outputText value="#{rse.origen}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Empresa"/>
								</f:facet>
								<h:outputText value="#{rse.empresa}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Documento"/>
								</f:facet>
								<h:outputText value="#{rse.documento}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Telefono Contacto"/>
								</f:facet>
								<h:outputText value="#{rse.telefonoContacto}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Correo de contacto"/>
								</f:facet>
								<h:outputText value="#{rse.emailContacto}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Direccion"/>
								</f:facet>
								<h:outputText value="#{rse.direccion}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Visita"/>
								</f:facet>
								<h:outputLabel class="mdl-switch mdl-js-switch fullWidth">
									<h:selectBooleanCheckbox class="mdl-switch__input" value="#{rse.visita}" />
								</h:outputLabel>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Prestamo de muestras"/>
								</f:facet>
								<h:outputLabel class="mdl-switch mdl-js-switch fullWidth">
									<h:selectBooleanCheckbox class="mdl-switch__input" value="#{rse.prestamoMuestra}" />
								</h:outputLabel>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Numero de remision"/>
								</f:facet>
								<h:outputText value="#{rse.numeroRemision}"/>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputLabel value="Fecha de cierre efectivo"/>
								</f:facet>
								<h:outputText value="#{rse.fechaCierreEfectivo}"/>
							</h:column>
						</h:dataTable>
					</h:panelGroup>
					<p:dialog>
						<h:form class="mdl-dialog" id="viewReport">
							<h:panelGroup layout="block" class="mdl-dialog__title">Seguimiento de la cotización XX-XXXX</h:panelGroup>
							<h:panelGroup layout="block" class="mdl-dialog__content">
								<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp fullWidth">
									<thead>
										<tr>
											<th class="mdl-data-table__cell--non-numeric">Fecha</th>
											<th class="mdl-data-table__cell--non-numeric">Observación</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td class="mdl-data-table__cell--non-numeric">16/03/2016</td>
											<td class="mdl-data-table__cell--non-numeric">Se envía correo con diseños</td>
										</tr>
										<tr>
											<td class="mdl-data-table__cell--non-numeric">22/03/2016</td>
											<td class="mdl-data-table__cell--non-numeric">se envia cotizacion con precios reales por el material de fabricacion y diseño</td>
										</tr>
										<tr>
											<td class="mdl-data-table__cell--non-numeric">28/03/2016</td>
											<td class="mdl-data-table__cell--non-numeric">Se confirman precios</td>
										</tr>
									</tbody>
								</table>
							</h:panelGroup>
							<h:panelGroup layout="block" class="mdl-dialog__actions">
								<button type="button" class="mdl-button toggleSubForm close">Cerrar</button>
							</h:panelGroup>
						</h:form>
					</p:dialog>
				</div>
			</main>
		</div>
	</h:body>
</html>